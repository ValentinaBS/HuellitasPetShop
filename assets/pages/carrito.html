<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/favicon.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;500;600;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <title>Huellitas - Mi Carrito</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../styles/style.css">
</head>

<body>
    <div id="app" v-cloak>
        {{contadorCarrito}}
            <section class="container py-5">
                <div class="row d-flex justify-content-center my-4">
                    <div class="col-md-8">
                        <div class="card mb-4 shadow border-0">
                            <div class="card-header py-3">
                                <h5 class="mb-0 text-center">Mi Carrito - {{cantidadTotalProductos}} Productos</h5>
                            </div>
                            <div class="card-body">
                                <!-- Un item -->
                                <template v-if="carrito.length > 0" v-for="producto in carrito">
                                    <div class="row mb-4 mt-2 p-3">
                                        <div class="col-lg-3 col-md-12 mb-4 mb-lg-0">
                                            <div class="bg-image">
                                                <img v-bind:src="producto.imagen"
                                                    class="w-100 rounded-3 object-fit-cover p-2 carrito-imagen" v-bind:alt="producto.producto" />
                                            </div>
                                        </div>
    
                                        <div class="col-lg-5 col-md-6 mb-4 mb-lg-0 d-flex justify-content-between align-items-center flex-md-column justify-content-md-start align-items-md-start">
                                            <div>
                                                <h3 class="fw-bold">{{producto.producto}}</h3>
                                                <p>Categoría: {{producto.categoria}}</p>
                                            </div>
<!--                                             <button v-on:click="removerProducto(producto)" class="btn btn--carrito-borrar mb-2">
                                                <i class="bi bi-x-lg"></i>
                                            </button> -->
                                        </div>
    
                                        <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
                                            <div class="d-flex mb-4 align-items-center justify-content-center column-gap-4" style="max-width: 300px">
                                                <button 
                                                    v-on:click="disminuirProducto(producto)"
                                                    class="btn btn-lg btn--carrito-comprar"
                                                >
                                                    <i class="bi bi-dash-lg"></i>
                                                </button>
                                                <span>{{producto.cantidadEnCarrito}}</span>
                                                <button 
                                                v-on:click="agregarProducto(producto)" 
                                                class="btn btn-lg btn--carrito-comprar"
                                                >
                                                <!-- :disabled="producto.disponibles == 0 ? true : false"  -->
                                                    <i class="bi bi-plus-lg"></i>
                                                </button>
                                            </div>
                                            <p class="text-start fs-4 text-md-center fw-bold">
                                                ${{producto.precio * producto.cantidadEnCarrito}}
                                            </p>
                                        </div>
                                    </div>
                                </template>
                                <!-- Un item -->
                                <template v-else>
                                    <p class="text-center my-5">Tu carrito está vacío...</p>
                                </template>
                                <template v-if="carrito.length > 0">
                                    <div class="d-flex justify-content-center">
                                        <button v-on:click="vaciarCarrito" class="btn btn--carrito-borrar mx-4 mb-3">
                                            Eliminar Productos
                                        </button>
                                    </div>
                                </template>
                            </div>
                        </div>
                        <div class="mb-4 mb-lg-0">
                            <div class="py-3">
                                <h5 class="mb-0">Nuestros medios de pago</h5>
                            </div>
                            <div>
                                <img class="me-2 imagen--pagos-carrito"
                                    src="../images/carrito/visa.png"
                                    alt="Visa" />
                                <img class="me-2 imagen--pagos-carrito"
                                    src="../images/carrito/mastercard.png"
                                    alt="Mastercard" />
                                <img class="me-2 imagen--pagos-carrito"
                                    src="../images/carrito/mercadoPago.png"
                                    alt="Mercado Pago" />
                                <img class="me-2 imagen--pagos-carrito"
                                    src="../images/carrito/paypal.png"
                                    alt="PayPal" />
                            </div>
                        </div>
                    </div>
                    <template v-if="carrito.length > 0">
                        <div class="col-md-4 text-center">
                            <div class="card mb-4 shadow border-0">
                                <div class="card-header py-3">
                                    <h5 class="mb-0">Resumen</h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group list-group-flush">
                                        <li
                                            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                                            Subtotal
                                            <span>${{totalPrecio}}</span>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                            Envío
                                            <span>Gratis</span>
                                        </li>
                                        <li
                                            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                                            Total
                                            <span class="fw-bold texto--color-principal">${{totalPrecio}}</span>
                                        </li>
                                    </ul>

                                    <button class="btn btn-lg btn--carrito-comprar w-100">
                                        Finalizar compra
                                    </button>
                                </div>
                            </div>
                            <img 
                                src="../images/carrito/gato.png"
                                class="imagen--gato-carrito text-center border-bottom border-2 rounded-3" 
                                alt="Gato mirando hacia arriba" 
                            />
                        </div>
                    </template>
                </div>
            </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="../scripts/carrito.js"></script>
</body>
</html>